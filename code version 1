this will be the code imported from previous image processing program, with some modifications.
